<?xml version="1.0" encoding="UTF-8"?>
<xml>
	<config>
		<serviceUrl>http://{prompt:Host name:}/</serviceUrl>
		<partnerId>-2</partnerId>
		<clientTag>Stand alone php 1.0.0</clientTag>
		<curlTimeout>30</curlTimeout>
		<userAgent>Stand alone php 1.0.0</userAgent>
	</config>
	<session>
		<!-- script will ask for username / password interactively -->
	</session>
	<request service="eventNotificationTemplate" action="add" plugin="eventNotification" partnerId="0">
		<template objectType="BorhanPushNotificationTemplate">
			<name>New Cue Point Created</name>
			<systemName>Push_New_Cue_Point_Created</systemName>
			<description>Push notification template to be sent when a new cue-point is created.</description>
			<automaticDispatchEnabled>1</automaticDispatchEnabled>
			<eventType>5</eventType> <!-- EventNotificationEventType::OBJECT_CREATED -->
			<eventObjectType>cuePointEventNotifications.CuePoint</eventObjectType> 
			<eventConditions objectType="array">
				<item objectType="BorhanOrCondition">
					<conditions objectType="array">
						<item objectType="BorhanFieldMatchCondition">
							<description>Cue-point type equals</description>
							<field objectType="BorhanEvalStringField">
								<code>$scope->getObject()->getType()</code>
							</field>
							<values objectType="array">
								<item objectType="BorhanStringValue">
									<value>{trigger_cuepoint}</value>
								</item>
							</values>
						</item>
						<item objectType="BorhanFieldMatchCondition">
							<description>all types</description>
							<field objectType="BorhanEvalStringField">
								<code>'*'</code>
							</field>
							<values objectType="array">
								<item objectType="BorhanStringValue">
									<value>{trigger_cuepoint}</value>
								</item>
							</values>
						</item>
					</conditions>
				</item>
			</eventConditions>		
			<contentParameters objectType="array">
				<item objectType="BorhanEventNotificationParameter">
					<key>entryId</key>
					<description></description>
					<value objectType="BorhanEvalStringField">
						<code>$scope->getObject()->getEntryId()</code>
					</value>
				</item>
			</contentParameters>	
			<userParameters objectType="array">
				<item objectType="BorhanEventNotificationParameter">
					<key>trigger_cuepoint</key>
					<description>Cue-point type that triggers the event (use asterisk to all types), See:BorhanCuePointType:/api_v3/testmeDoc/?object=BorhanCuePointType</description>
					<value objectType="BorhanStringValue">
						<value>*</value>
					</value>
				</item>
			</userParameters>
		</template>
	</request>
</xml>
